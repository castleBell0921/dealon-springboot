<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="statsRow(pageType)" class="stats-section">
  <div class="stats-row">

    <div class="stat-card blue-bg" th:if="${pageType == 'dashboard' or pageType == 'userMng'}">
      <div class="stat-title text-14px fw-bold">주간 접속자수</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.currentWeekVisitors}">0</span>
        <th:block th:with="diff=${stats.currentWeekVisitors - stats.prevWeekVisitors}">
          <span class="stat-trend text-14px" th:classappend="${diff < 0 ? 'down' : ''}">
            <th:block th:text="${diff > 0 ? '+' + diff : diff}"></th:block>
            <i class="fa-solid" th:classappend="${diff < 0 ? 'fa-arrow-trend-down' : 'fa-arrow-trend-up'}"></i>
          </span>
        </th:block>
      </div>
    </div>

    <div class="stat-card purple-bg" th:if="${pageType == 'dashboard' or pageType == 'userMng'}">
      <div class="stat-title text-14px fw-bold">주간 회원가입 수</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.currentWeekSignups}">0</span>
        <th:block th:with="diff=${stats.currentWeekSignups - stats.prevWeekSignups}">
          <span class="stat-trend text-14px" th:classappend="${diff < 0 ? 'down' : ''}">
            <th:block th:text="${diff > 0 ? '+' + diff : diff}"></th:block>
            <i class="fa-solid" th:classappend="${diff < 0 ? 'fa-arrow-trend-down' : 'fa-arrow-trend-up'}"></i>
          </span>
        </th:block>
      </div>
    </div>

    <div class="stat-card blue-bg" th:if="${pageType == 'dashboard' or pageType == 'productMng'}">
      <div class="stat-title text-14px fw-bold">주간 거래완료 건수</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.currentWeekTrades}">0</span>
        <th:block th:with="diff=${stats.currentWeekTrades - stats.prevWeekTrades}">
          <span class="stat-trend text-14px" th:classappend="${diff < 0 ? 'down' : ''}">
            <th:block th:text="${diff > 0 ? '+' + diff : diff}"></th:block>
            <i class="fa-solid" th:classappend="${diff < 0 ? 'fa-arrow-trend-down' : 'fa-arrow-trend-up'}"></i>
          </span>
        </th:block>
      </div>
    </div>

    <div class="stat-card purple-bg" th:if="${pageType == 'productMng'}">
      <div class="stat-title text-14px fw-bold">실시간 활동 채팅방 수</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.activeChatRooms}">0</span>
      </div>
    </div>

    <div class="stat-card blue-bg" th:if="${pageType == 'decMng'}">
      <div class="stat-title text-14px fw-bold">누적 신고량</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.totalReports}">0</span>
        <span class="stat-trend text-14px">
          +[[${stats.newReports7Days}]] <i class="fa-solid fa-arrow-trend-up"></i>
        </span>
      </div>
    </div>

    <div class="stat-card purple-bg" th:if="${pageType == 'decMng'}">
      <div class="stat-title text-14px fw-bold">미처리 신고 수</div>
      <div class="stat-value-row">
        <span class="stat-number count-up text-32px fw-bold" th:attr="data-target=${stats.unprocessedReports}">0</span>
      </div>
    </div>

  </div>
</div>
</html>